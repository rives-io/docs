"use strict";(self.webpackChunkrives_docs=self.webpackChunkrives_docs||[]).push([[1706],{9044:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>l,contentTitle:()=>s,default:()=>g,frontMatter:()=>a,metadata:()=>o,toc:()=>d});var r=n(4848),t=n(8453);const a={sidebar_position:4},s="Drawing sprites",o={id:"riv/guides/drawing-sprites",title:"Drawing sprites",description:"This guide will explain how to draw images, sprites and tile maps using standard RIV APIs.",source:"@site/docs/riv/guides/drawing-sprites.md",sourceDirName:"riv/guides",slug:"/riv/guides/drawing-sprites",permalink:"/docs/riv/guides/drawing-sprites",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"Handling inputs",permalink:"/docs/riv/guides/handling-inputs"},next:{title:"Drawing text",permalink:"/docs/riv/guides/drawing-text"}},l={},d=[{value:"Downloading an sprite sheet",id:"downloading-an-sprite-sheet",level:2},{value:"Drawing an image",id:"drawing-an-image",level:2},{value:"Drawing an image using its color palette",id:"drawing-an-image-using-its-color-palette",level:2},{value:"Drawing an image section",id:"drawing-an-image-section",level:2},{value:"Drawing a sprite",id:"drawing-a-sprite",level:2},{value:"Animating sprites",id:"animating-sprites",level:2},{value:"Drawing a sprite bounding box",id:"drawing-a-sprite-bounding-box",level:2},{value:"Drawing tile maps",id:"drawing-tile-maps",level:2},{value:"Making a simple tiled game",id:"making-a-simple-tiled-game",level:2}];function c(e){const i={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.header,{children:(0,r.jsx)(i.h1,{id:"drawing-sprites",children:"Drawing sprites"})}),"\n",(0,r.jsx)(i.p,{children:"This guide will explain how to draw images, sprites and tile maps using standard RIV APIs."}),"\n",(0,r.jsxs)(i.p,{children:["This guide assumes that you have basic RIV knowledge and already completed the ",(0,r.jsx)(i.a,{href:"../creating-a-game",children:"creating a game tutorial"}),"."]}),"\n",(0,r.jsx)(i.h2,{id:"downloading-an-sprite-sheet",children:"Downloading an sprite sheet"}),"\n",(0,r.jsx)(i.p,{children:"Before we show how to drawn an image, first you need to have a PNG file of the image.\nPNG images are the only supported format by RIV, any other image format is not supported."}),"\n",(0,r.jsxs)(i.p,{children:["For this guide, we will use the free ",(0,r.jsx)(i.a,{href:"https://o-lobster.itch.io/simple-dungeon-crawler-16x16-pixel-pack",children:"simple dungeon crawler 16x16 pixel art asset pack"})," from ",(0,r.jsx)(i.a,{href:"https://itch.io",children:"itch.io"}),".\nThis website has many sprite assets packs, in case you don't have sprites for you game idea\nit's a nice website to search for free sprites."]}),"\n",(0,r.jsx)(i.p,{children:"This guide will use a slighly modified version of the original asset pack,\nwith the following main changes:"}),"\n",(0,r.jsxs)(i.ol,{children:["\n",(0,r.jsx)(i.li,{children:"Removed some duplicated sprites"}),"\n",(0,r.jsx)(i.li,{children:"Reorganized the sprite sheet to make it smaller"}),"\n",(0,r.jsxs)(i.li,{children:["Converted its color mode to 96 indexed color palette using ",(0,r.jsx)(i.a,{href:"https://www.gimp.org/",children:"GIMP"})]}),"\n",(0,r.jsxs)(i.li,{children:["Finally optimized the PNG file compression using ",(0,r.jsx)(i.a,{href:"https://github.com/shssoichiro/oxipng",children:"oxipng"})," (available in the RIV SDK)."]}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:"All the mentioned changes is a good practice to do on your cartridge images,\nto make cartridges smaller and more efficient."}),"\n",(0,r.jsx)(i.p,{children:"The resulting image ended having 4975 bytes with 256x256 resolution:"}),"\n",(0,r.jsx)("center",{class:"pixelated img-512 checkboard-pattern",children:(0,r.jsx)(i.p,{children:(0,r.jsx)(i.img,{alt:"simple_dungeon_crawler_16x16.png",src:n(651).A+"",width:"256",height:"256"})})}),"\n",(0,r.jsxs)(i.p,{children:["You will need to download ",(0,r.jsx)(i.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:n(3740).A+"",children:"this image"}),"\nbefore continuing to the next chapters."]}),"\n",(0,r.jsx)(i.h2,{id:"drawing-an-image",children:"Drawing an image"}),"\n",(0,r.jsxs)(i.p,{children:["Having ",(0,r.jsx)(i.code,{children:"simple_dungeon_crawler_16x16.png"}),", create ",(0,r.jsx)(i.code,{children:"sprites.c"})," with the following contents:"]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-c",children:'#include <riv.h>\n\nint main() {\n    // Load the image from a file\n    int img_id = riv_make_image("simple_dungeon_crawler_16x16.png", 255);\n    // Main loop\n    do {\n        // Draw red background\n        riv_clear(RIV_COLOR_LIGHTGREEN);\n        // Draw the entire image\n        riv_draw_image_rect(img_id,\n            0, 0,     // screen coordinates x, y\n            256, 256, // image source width, height\n            0, 0,     // image source coordinates x, y\n            1, 1      // multiply width, height\n        );\n    } while(riv_present());\n    return 0;\n}\n'})}),"\n",(0,r.jsxs)(i.p,{children:["In this code, ",(0,r.jsx)(i.code,{children:"riv_make_image"})," is used to load the image file ",(0,r.jsx)(i.code,{children:"simple_dungeon_crawler_16x16.png"}),"\nand the image can be referred in RIV APIs with its ",(0,r.jsx)(i.code,{children:"img_id"})," id.\nNotice this function has a second ",(0,r.jsx)(i.code,{children:"color_key"})," argument, which we set to ",(0,r.jsx)(i.code,{children:"255"}),",\nthis is only relevant for images that has fully transparent pixels,\nany fully transparent pixel of the image will be set to this color index.\nRecall that RIV color palette has at most 256 colors, 255 is the very last color index in the palette,\nit's a common practice to use the last color as color key of PNG images,\nbut you are free to use another color index."]}),"\n",(0,r.jsxs)(i.p,{children:["In the main loop, first we clean the background with green color,\nthen we draw the entire image using ",(0,r.jsx)(i.code,{children:"riv_draw_image_rect"}),","]}),"\n",(0,r.jsx)(i.p,{children:"Run it with:"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-sh",children:"rivemu -workspace -exec riv-jit-c sprites-1.c\n"})}),"\n",(0,r.jsx)("div",{align:"center",children:(0,r.jsx)("iframe",{src:"https://emulator.rives.io/?-stop-frame=0#simple=true&cartridge=https://raw.githubusercontent.com/edubart/cartridges/main/sprites-1.sqfs",allowFullScreen:!0,className:"rivemu-frame"})}),"\n",(0,r.jsx)(i.h2,{id:"drawing-an-image-using-its-color-palette",children:"Drawing an image using its color palette"}),"\n",(0,r.jsxs)(i.p,{children:["Notice the image colors of the previous chapter looks different from the original image,\nthis is because the image was converted to the nearest colors\non the current RIV color palette, which by default comes with only 32 colors.\nHowever the original image has 96 colors,\nto fix this we have to load the original image color palette before actually loading it,\nwe can do this by using the ",(0,r.jsx)(i.code,{children:"riv_load_palette"})," function:"]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-c",children:'#include <riv.h>\n\nint main() {\n    // Load the image color palette starting into drawing color palette at index 32\n    riv_load_palette("simple_dungeon_crawler_16x16.png", 32);\n    // Load the image from a file\n    int img_id = riv_make_image("simple_dungeon_crawler_16x16.png", 255);\n    // Main loop\n    do {\n        // Draw red background\n        riv_clear(RIV_COLOR_LIGHTGREEN);\n        // Draw the entire image\n        riv_draw_image_rect(img_id, 0, 0, 256, 256, 0, 0, 1, 1);\n    } while(riv_present());\n    return 0;\n}\n'})}),"\n",(0,r.jsxs)(i.p,{children:["In this code we first load ",(0,r.jsx)(i.code,{children:"simple_dungeon_crawler_16x16.png"})," color palette (which has 96 colors)\nfilling every new color not available yet in the current color palette\ninto color indexes starting at index ",(0,r.jsx)(i.code,{children:"32"}),", meaning that it may set color indexes ",(0,r.jsx)(i.code,{children:"32-127"}),".\nRecall that the color indexes ",(0,r.jsx)(i.code,{children:"0-31"})," are reserved to the standard RIV color palette,\nand we are not modifying it by setting ."]}),"\n",(0,r.jsx)(i.p,{children:"Now the image colors looks correct:"}),"\n",(0,r.jsx)("div",{align:"center",children:(0,r.jsx)("iframe",{src:"https://emulator.rives.io/?-stop-frame=0#simple=true&cartridge=https://raw.githubusercontent.com/edubart/cartridges/main/sprites-2.sqfs",allowFullScreen:!0,className:"rivemu-frame"})}),"\n",(0,r.jsx)(i.p,{children:"Keep in mind that the color palette can have at most 255 colors,\nso you will be not be able to load multiple different color palette from multiple images,\nyou have to load at most a set of 255 different colors."}),"\n",(0,r.jsx)(i.h2,{id:"drawing-an-image-section",children:"Drawing an image section"}),"\n",(0,r.jsxs)(i.p,{children:["You may want to draw just a section of an image, and even draw it bigger,\nby modifying the arguments to ",(0,r.jsx)(i.code,{children:"riv_draw_image_rect"})," you can do this."]}),"\n",(0,r.jsx)(i.p,{children:"The first 2 arguments of this function determines where to drawn in the screen,\nthe next 4 arguments determines the region from the image to draw,\nand finally the last 2 arguments determines how much to multiply the drawing size.\nThe multiplier arguments can be negative, useful for flipping images."}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-c",children:'#include <riv.h>\n\nint main() {\n    // Load the image color palette starting into drawing color palette at index 32\n    riv_load_palette("simple_dungeon_crawler_16x16.png", 32);\n    // Load the image from a file\n    int img_id = riv_make_image("simple_dungeon_crawler_16x16.png", 255);\n    // Main loop\n    do {\n        // Draw red background\n        riv_clear(RIV_COLOR_LIGHTGREEN);\n        // Draw the a section of the image\n        riv_draw_image_rect(img_id,\n            112, 112, // screen coordinates x, y\n            16, 16,   // image source width, height\n            0, 128,   // image source coordinates x, y\n            -2, 2     // multiply width, height\n        );\n    } while(riv_present());\n    return 0;\n}\n'})}),"\n",(0,r.jsx)(i.p,{children:"Notice the sprite is flipped to the right and bigger:"}),"\n",(0,r.jsx)("div",{align:"center",children:(0,r.jsx)("iframe",{src:"https://emulator.rives.io/?-stop-frame=0#simple=true&cartridge=https://raw.githubusercontent.com/edubart/cartridges/main/sprites-3.sqfs",allowFullScreen:!0,className:"rivemu-frame"})}),"\n",(0,r.jsx)(i.h2,{id:"drawing-a-sprite",children:"Drawing a sprite"}),"\n",(0,r.jsx)(i.p,{children:"Although you could draw many image sections to make a game,\nRIV has an API to make drawing sprites easier,\na sprite is basically a section of a sprite sheet image."}),"\n",(0,r.jsx)(i.p,{children:"Sprites from a sprite sheet are divided by fixed size sections,\nin our example image the sprite size is 16x16 pixels.\nEach sprite is identified by an index in the sprite sheet,\nstarting at 0 in the top left and growing to the right and bottom,\na picture make this more clear:"}),"\n",(0,r.jsx)("center",{class:"pixelated img-512 checkboard-pattern",children:(0,r.jsx)(i.p,{children:(0,r.jsx)(i.img,{alt:"sprite indexes",src:n(9300).A+"",width:"768",height:"768"})})}),"\n",(0,r.jsxs)(i.p,{children:["We want to draw sprite ",(0,r.jsx)(i.code,{children:"128"})," (the knight) from our sprite sheet,\nin order to do this we first load the sprite sheet from an image using ",(0,r.jsx)(i.code,{children:"riv_make_spritesheet"}),"\nand later draw the sprite using ",(0,r.jsx)(i.code,{children:"riv_draw_sprite"}),":"]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-c",children:'#include <riv.h>\n\nint main() {\n    // Load the image color palette starting into drawing color palette at index 32\n    riv_load_palette("simple_dungeon_crawler_16x16.png", 32);\n    // Load the image from a file\n    int img_id = riv_make_image("simple_dungeon_crawler_16x16.png", 255);\n    // Create a sprite sheet of 16x16 sprites from an image\n    int sps_id = riv_make_spritesheet(img_id, 16, 16);\n    // Main loop\n    do {\n        // Draw red background\n        riv_clear(RIV_COLOR_LIGHTGREEN);\n        // Draw the knight sprite\n        riv_draw_sprite(128, sps_id, 112, 112, 1, 1, -2, 2);\n    } while(riv_present());\n    return 0;\n}\n'})}),"\n",(0,r.jsx)("div",{align:"center",children:(0,r.jsx)("iframe",{src:"https://emulator.rives.io/?-stop-frame=0#simple=true&cartridge=https://raw.githubusercontent.com/edubart/cartridges/main/sprites-4.sqfs",allowFullScreen:!0,className:"rivemu-frame"})}),"\n",(0,r.jsx)(i.p,{children:"Notice the result is the same as the previous chapter,\nhowever it is easy now to draw different sprites based on its sprite index inside the sprite sheet."}),"\n",(0,r.jsx)(i.h2,{id:"animating-sprites",children:"Animating sprites"}),"\n",(0,r.jsx)(i.p,{children:"With a sprite sheet loaded, it's now easy to animate sprites on the sprite sheet\nby just looping its sprite index, for example we can animate the knight based on elapsed time:"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-c",children:'#include <riv.h>\n\nint main() {\n    // Load the image color palette starting into drawing color palette at index 32\n    riv_load_palette("simple_dungeon_crawler_16x16.png", 32);\n    // Load the image from a file\n    int img_id = riv_make_image("simple_dungeon_crawler_16x16.png", 255);\n    // Create a sprite sheet from an image\n    int sps_id = riv_make_spritesheet(img_id, 16, 16);\n    // Player direction\n    int dir = 1;\n    // Main loop\n    do {\n        // Change player direction\n        if (riv->keys[RIV_GAMEPAD_LEFT].press) dir = -1;\n        if (riv->keys[RIV_GAMEPAD_RIGHT].press) dir = 1;\n        // Draw red background\n        riv_clear(RIV_COLOR_LIGHTGREEN);\n        // Compute animation frame\n        int anim = (riv->frame / 4) % 6;\n        // Draw the player sprite animated\n        riv_draw_sprite(128 + anim, sps_id, 112, 112, 1, 1, 2*dir, 2);\n    } while(riv_present());\n    return 0;\n}\n'})}),"\n",(0,r.jsxs)(i.p,{children:["Notice that the drawn sprite changes every frame because ",(0,r.jsx)(i.code,{children:"anim"})," depends on ",(0,r.jsx)(i.code,{children:"riv->frame"}),".\nThe ",(0,r.jsx)(i.code,{children:"anim"})," will loop values from ",(0,r.jsx)(i.code,{children:"0-5"})," every ",(0,r.jsx)(i.code,{children:"4"})," frames."]}),"\n",(0,r.jsx)(i.p,{children:"Also notice in the code that if you press LEFT or RIGHT,  you can have the knight face different directions,\nthis is done by using negative multiplier for the sprite width."}),"\n",(0,r.jsx)("div",{align:"center",children:(0,r.jsx)("iframe",{src:"https://emulator.rives.io/#simple=true&cartridge=https://raw.githubusercontent.com/edubart/cartridges/main/sprites-5.sqfs",allowFullScreen:!0,className:"rivemu-frame"})}),"\n",(0,r.jsx)(i.h2,{id:"drawing-a-sprite-bounding-box",children:"Drawing a sprite bounding box"}),"\n",(0,r.jsxs)(i.p,{children:["It's often needed to compute a bounding box for a given sprite in games\nto perform collision detection or do some graphic effects.\nFor this RIV has the auxiliary API ",(0,r.jsx)(i.code,{children:"riv_get_sprite_bbox"})," that search for opaque pixels\nin a sprite and returns its bounding box.\nIn the last of this guide, we will use this function to detect collision in a simple coin collecting game."]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-c",children:'#include <riv.h>\n\nint main() {\n    // Load the image color palette starting into drawing color palette at index 32\n    riv_load_palette("simple_dungeon_crawler_16x16.png", 32);\n    // Load the image from a file\n    int img_id = riv_make_image("simple_dungeon_crawler_16x16.png", 255);\n    // Create a sprite sheet from an image\n    int sps_id = riv_make_spritesheet(img_id, 16, 16);\n    // Define player bounding box\n    riv_recti bbox = riv_get_sprite_bbox(128, sps_id, 1, 1);\n    // Main loop\n    do {\n        // Draw red background\n        riv_clear(RIV_COLOR_BLACK);\n        // Draw the standard sprite bounding box\n        riv_draw_rect_fill(120, 120, 16, 16, RIV_COLOR_LIGHTGREEN);\n        // Draw the player sprite\n        riv_draw_sprite(128, sps_id, 120, 120, 1, 1, 1, 1);\n        // Draw the sprite bounding box\n        riv_draw_rect_line(120 + bbox.x, 120 + bbox.y, bbox.width, bbox.height, RIV_COLOR_WHITE);\n    } while(riv_present());\n    return 0;\n}\n'})}),"\n",(0,r.jsx)("div",{align:"center",children:(0,r.jsx)("iframe",{src:"https://emulator.rives.io/?-stop-frame=0#simple=true&cartridge=https://raw.githubusercontent.com/edubart/cartridges/main/sprites-6.sqfs",allowFullScreen:!0,className:"rivemu-frame"})}),"\n",(0,r.jsx)(i.p,{children:"Notice the bounding box in white is smaller than the standard 16x16 sprite size."}),"\n",(0,r.jsx)(i.h2,{id:"drawing-tile-maps",children:"Drawing tile maps"}),"\n",(0,r.jsx)(i.p,{children:"To create 2D games, we often organize game objects into tile maps,\nwhich is basically a grid of tiles where sprites are draw.\nWe can define a very simple tile map by a multi dimensional array of LxWxH sprites indexes.\nThen in the game logic we can draw it by just looping and drawing each sprite,\nhere is a full example:"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-c",children:'#include <riv.h>\n\nenum {\n    TILE_SIZE = 16,\n    MAP_SIZE = 16,\n    MAP_LAYERS = 2,\n};\n\n// The game map\nuint16_t map[MAP_LAYERS][MAP_SIZE][MAP_SIZE] = {\n    { // layer 0 - grounds\n        {  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0},\n        {  0,  9, 27,  9, 27,  9, 27,  9, 27,  9, 27,  9, 27,  9, 27,  0},\n        {  0, 53, 36, 53, 37, 53, 37, 53, 37, 53, 37, 53, 37, 53, 37,  0},\n        {  0, 53, 37, 53, 37, 53, 37, 53, 37, 53, 37, 53, 50, 53, 37,  0},\n        {  0, 53, 37, 53, 37, 53, 37, 53, 37, 53, 37, 53, 37, 53, 37,  0},\n        {  0, 53, 37, 53, 37, 53, 37, 53, 37, 53, 37, 53, 37, 53, 37,  0},\n        {  0, 53, 37, 53, 37, 53, 37, 53, 37, 53, 37, 53, 37, 53, 37,  0},\n        {  0, 53, 37, 53, 37, 53, 37, 53, 37, 53, 37, 53, 37, 53, 37,  0},\n        {  0, 53, 37, 53, 37, 53, 37, 53, 37, 53, 37, 53, 37, 53, 37,  0},\n        {  0, 53, 37, 53, 37, 53, 37, 53, 37, 53, 37, 53, 37, 53, 37,  0},\n        {  0, 53, 37, 53, 37, 53, 37, 52, 37, 53, 37, 53, 37, 53, 37,  0},\n        {  0, 53, 37, 53, 37, 53, 37, 53, 37, 53, 37, 53, 35, 53, 37,  0},\n        {  0, 53, 37, 53, 37, 53, 37, 53, 37, 53, 37, 53, 37, 53, 37,  0},\n        {  0, 53, 37, 53, 37, 53, 37, 53, 37, 53, 37, 53, 37, 53, 37,  0},\n        {  0, 53, 37, 53, 37, 53, 37, 53, 37, 53, 37, 53, 37, 53, 37,  0},\n        {  0, 53, 37, 53, 37, 53, 37, 53, 37, 53, 37, 53, 37, 53, 37,  0},\n    },\n    { // layer 1 - objects\n        { 14, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60, 13},\n        { 30,150,  0,  4,  0,  0,  0,  4,  0,  0,  0,  0,  3,  0,150, 29},\n        { 30,  0,  0,  1,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 29},\n        { 30,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 29},\n        { 30,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 29},\n        { 30,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 29},\n        { 30,  0,  0,  0,  0,  0,  0,  0,  0,  0,  1,  0,  0,  0,  0, 29},\n        { 30,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 29},\n        { 30,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 29},\n        { 30,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 29},\n        { 30,  0,  0,  1,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 29},\n        { 30,  0,  1,  1,  0,  0,  0,  0,  0,  0,  0,  1,  0,  0,  0, 29},\n        { 30,  0,  1,  1,  0,  0,  0,  0,  0,  0,  0,  1,  0,  0,  0, 29},\n        { 30,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 29},\n        { 30,  0,  0,  0,  0,  0,  0,  0,  0,  1,  0,  0,  0,  0,  0, 29},\n        { 46, 44, 44, 44, 44, 44, 44, 44, 44, 44, 44, 44, 44, 44, 44, 45},\n    },\n};\n\nint main() {\n    // Load the image color palette starting into drawing color palette at index 32\n    riv_load_palette("simple_dungeon_crawler_16x16.png", 32);\n    // Load the image from a file\n    int img_id = riv_make_image("simple_dungeon_crawler_16x16.png", 255);\n    // Create a sprite sheet from an image\n    int sps_id = riv_make_spritesheet(img_id, TILE_SIZE, TILE_SIZE);\n    // Main loop\n    do {\n        // Draw black background\n        riv_clear(RIV_COLOR_BLACK);\n        // Draw map\n        for (int l=0;l<MAP_LAYERS;++l) { // For each layer\n            for (int y=0;y<MAP_SIZE;++y) { // For each row\n                for (int x=0;x<MAP_SIZE;++x) { // For each column\n                    int spr = map[l][y][x];\n                    if (spr != 0) { // Draw tile sprite\n                        riv_draw_sprite(spr, sps_id, x*TILE_SIZE, y*TILE_SIZE, 1, 1, 1, 1);\n                    }\n                }\n            }\n        }\n    } while(riv_present());\n    return 0;\n}\n'})}),"\n",(0,r.jsx)("div",{align:"center",children:(0,r.jsx)("iframe",{src:"https://emulator.rives.io/?-stop-frame=0#simple=true&cartridge=https://raw.githubusercontent.com/edubart/cartridges/main/sprites-7.sqfs",allowFullScreen:!0,className:"rivemu-frame"})}),"\n",(0,r.jsxs)(i.p,{children:["Cool, right? By organizing sprite indexes into multi dimensional arrays you can create\ncomplex game maps based on the sprite sheet.\nDesigning maps by hand for simple games is fine,\nhowever you could use a professional map editor to assist the tedious work,\nusually tile map editor software offers a way to export the map into a multidimensional arrays.\nFor a good open source map editor, I recommended using ",(0,r.jsx)(i.a,{href:"https://www.mapeditor.org/",children:"Tiled"}),",\nfor instance it was used to create maps for the ",(0,r.jsx)(i.a,{href:"https://github.com/edubart/bladebomber",children:"Bladebomber"}),"\ngame that is featured on RIVES."]}),"\n",(0,r.jsx)(i.h2,{id:"making-a-simple-tiled-game",children:"Making a simple tiled game"}),"\n",(0,r.jsx)(i.p,{children:"Now for the ultimate result of this guide, we will make a small coin collecting game using\nmost APIs explained in this guide:"}),"\n",(0,r.jsx)("div",{align:"center",children:(0,r.jsx)("iframe",{src:"https://emulator.rives.io/#simple=true&cartridge=https://raw.githubusercontent.com/edubart/cartridges/main/sprites-8.sqfs",allowFullScreen:!0,className:"rivemu-frame"})}),"\n",(0,r.jsxs)(i.p,{children:["You can view the full code for this example at\n",(0,r.jsx)(i.a,{href:"https://github.com/rives-io/riv/blob/main/demos/guide-sprites/sprites-8.c",children:"sprites-8.c"}),"."]})]})}function g(e={}){const{wrapper:i}={...(0,t.R)(),...e.components};return i?(0,r.jsx)(i,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},3740:(e,i,n)=>{n.d(i,{A:()=>r});const r=n.p+"assets/files/simple_dungeon_crawler_16x16-79a470ef2e285aa1b9563462a65a90b3.png"},651:(e,i,n)=>{n.d(i,{A:()=>r});const r="data:image/png;base64,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"},9300:(e,i,n)=>{n.d(i,{A:()=>r});const r=n.p+"assets/images/sprite_numbers-3962433beee166f9d0df7bc9f992a8ba.png"},8453:(e,i,n)=>{n.d(i,{R:()=>s,x:()=>o});var r=n(6540);const t={},a=r.createContext(t);function s(e){const i=r.useContext(a);return r.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function o(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),r.createElement(a.Provider,{value:i},e.children)}}}]);